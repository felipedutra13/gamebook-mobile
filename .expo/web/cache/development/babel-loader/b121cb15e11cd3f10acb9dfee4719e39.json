{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Felipe\\\\Documents\\\\CCP\\\\Projects\\\\TracknPlay\\\\mobile\\\\src\\\\pages\\\\Popular\\\\index.tsx\";\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport api from \"../../services/api\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport Cover from \"../../components/Cover\";\nimport Platforms from \"../../components/Platforms\";\n;\n\nvar Popular = function Popular() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      games = _useState2[0],\n      setGames = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      offset = _useState4[0],\n      setOffset = _useState4[1];\n\n  var platforms = useSelector(function (state) {\n    return state.platformsState;\n  });\n  useEffect(function () {\n    if (platforms.length > 0) {\n      api.get(\"/getPopulargames\", {\n        params: {\n          offset: offset,\n          platformIds: platforms\n        }\n      }).then(function (response) {\n        var tmp = games;\n        var result = tmp.concat(response.data);\n        setGames(result);\n      });\n    }\n  }, [offset]);\n  useEffect(function () {\n    if (platforms.length > 0) {\n      api.get(\"/getPopulargames\", {\n        params: {\n          offset: offset,\n          platformIds: platforms\n        }\n      }).then(function (response) {\n        setGames(response.data);\n      });\n    }\n  }, [platforms]);\n\n  function getMorePopularGames() {\n    var increment = offset + 10;\n    setOffset(increment);\n  }\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return React.createElement(Cover, {\n      game: item,\n      isPopularPage: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, React.createElement(Header, {\n    showLogo: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.scroll,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, React.createElement(Platforms, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }), React.createElement(View, {\n    style: styles.list,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, React.createElement(FlatList, {\n    data: games,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return String(item.id);\n    },\n    onEndReachedThreshold: 0.5,\n    onEndReached: function onEndReached() {\n      getMorePopularGames();\n    },\n    numColumns: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  })))), React.createElement(Footer, {\n    option: 'Popular',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Popular;\nvar styles = StyleSheet.create({\n  scroll: {\n    marginTop: 100,\n    height: 540\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#000\"\n  },\n  list: {\n    left: 40\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","useSelector","api","Header","Footer","Cover","Platforms","Popular","games","setGames","offset","setOffset","platforms","state","platformsState","length","get","params","platformIds","then","response","tmp","result","concat","data","getMorePopularGames","increment","renderItem","item","styles","container","scroll","list","String","id","StyleSheet","create","marginTop","height","flex","backgroundColor","left"],"sources":["C:/Users/Felipe/Documents/CCP/Projects/TracknPlay/mobile/src/pages/Popular/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Feather as Icon } from '@expo/vector-icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Text, StyleSheet, TouchableOpacity, Image, View, ScrollView, SafeAreaView, FlatList, StatusBar } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport api from '../../services/api';\r\nimport { useFonts, Roboto_400Regular } from '@expo-google-fonts/roboto';\r\nimport Header from '../../components/Header';\r\nimport Footer from '../../components/Footer';\r\nimport Cover from '../../components/Cover';\r\nimport { Platform } from '../../interfaces/Platform';\r\nimport Platforms from '../../components/Platforms';\r\nimport { RootState } from '../../reducers';\r\n\r\n\r\ninterface Game {\r\n    id: number;\r\n    name: string;\r\n    imageUrl: string;\r\n};\r\n\r\nconst Popular = () => {\r\n    const [games, setGames] = useState<Game[]>([]);\r\n    const [offset, setOffset] = useState(0);\r\n\r\n    const platforms = useSelector((state: RootState) => {\r\n        return state.platformsState\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (platforms.length > 0) {\r\n            api.get<Game[]>(`/getPopulargames`, {\r\n                params: {\r\n                    offset: offset,\r\n                    platformIds: platforms\r\n                }\r\n            }).then(response => {\r\n                let tmp = games;\r\n                let result = tmp.concat(response.data);\r\n                setGames(result);\r\n            });\r\n        }\r\n    }, [offset]);\r\n\r\n    useEffect(() => {\r\n        if (platforms.length > 0) {\r\n            api.get<Game[]>(`/getPopulargames`, {\r\n                params: {\r\n                    offset: offset,\r\n                    platformIds: platforms\r\n                }\r\n            }).then(response => {\r\n                setGames(response.data);\r\n            });\r\n        }\r\n    }, [platforms]);\r\n\r\n    function getMorePopularGames() {\r\n        let increment = offset + 10;\r\n        setOffset(increment);\r\n    }\r\n\r\n    const renderItem = ({ item }) => {\r\n        return (\r\n            <Cover game={item} isPopularPage={true}/>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={styles.container}>\r\n\r\n                <Header showLogo={true} />\r\n\r\n                <View>\r\n\r\n                    <View style={styles.scroll}>\r\n                        <Platforms />\r\n                        <View style={styles.list}>\r\n\r\n                            <FlatList\r\n                                data={games}\r\n                                renderItem={renderItem}\r\n                                keyExtractor={(item) => String(item.id)}\r\n                                onEndReachedThreshold={0.5}\r\n                                onEndReached={() => {\r\n                                    getMorePopularGames();\r\n                                }}\r\n                            numColumns={2}\r\n                            />\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n                <Footer option={'Popular'} />\r\n            </View>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Popular;\r\n\r\nconst styles = StyleSheet.create({\r\n    scroll: {\r\n        marginTop: 100,\r\n        // marginBottom: 270,\r\n        height: 540\r\n    },\r\n\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"#000\"\r\n        // marginTop: StatusBar.currentHeight || 0,\r\n    },\r\n\r\n    list: {\r\n        left: 40\r\n    },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}