{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Felipe\\\\Documents\\\\CCP\\\\Projects\\\\TracknPlay\\\\mobile\\\\src\\\\pages\\\\ForgotPassword\\\\index.tsx\";\n\nimport React, { useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { Feather as Icon } from '@expo/vector-icons';\nimport { TextInput } from 'react-native-gesture-handler';\nimport api from \"../../services/api\";\nimport { useNavigation } from '@react-navigation/native';\nimport Loading from \"../../components/Loading\";\nimport { trackPromise } from 'react-promise-tracker';\nimport { showMessage } from 'react-native-flash-message';\nvar ANDROID_CLIENT_ID = \"488976892573-e736r27mphc3raqbj69728m8a0ljkur2.apps.googleusercontent.com\";\nvar IOS_CLIENT_ID = \"488976892573-4n00tcooi5hnrt80ike55h2e7sr42d8o.apps.googleusercontent.com\";\n\nvar ForgotPassword = function ForgotPassword() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      emailTerm = _useState2[0],\n      setEmailTerm = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      textVisible = _useState4[0],\n      setTextVisible = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showLoading = _useState6[0],\n      setShowLoading = _useState6[1];\n\n  var navigation = useNavigation();\n\n  function sendEmail() {\n    setTextVisible(false);\n    setShowLoading(true);\n    trackPromise(api.post(\"/forgotPassword\", {\n      email: emailTerm\n    }).then(function (response) {\n      setTextVisible(true);\n      setShowLoading(false);\n      navigation.navigate('FillCode', {\n        email: emailTerm,\n        option: 'passwordReset'\n      });\n    }).catch(function (err) {\n      showMessage({\n        message: err.response.data.message,\n        type: \"danger\"\n      });\n      setTextVisible(true);\n      setShowLoading(false);\n    }));\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, React.createElement(Icon, {\n    name: \"arrow-left\",\n    color: \"#FFF\",\n    size: 24,\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Gamebook\")), React.createElement(View, {\n    style: styles.resetContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.textTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, \"Recuperar minha senha\"), React.createElement(Text, {\n    style: styles.textDescription,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"Esqueceu sua senha? N\\xE3o se preocupe. Insira seu e-mail que enviaremos um c\\xF3digo de acesso para voc\\xEA cadastrar uma nova senha.\")), React.createElement(TextInput, {\n    style: styles.emailInput,\n    placeholder: \"E-mail\",\n    onChangeText: setEmailTerm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), React.createElement(Pressable, {\n    onPress: sendEmail,\n    style: styles.sendButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, showLoading && React.createElement(Loading, {\n    login: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 41\n    }\n  }), textVisible && React.createElement(Text, {\n    style: styles.textStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 41\n    }\n  }, \"Enviar para e-mail\")))));\n};\n\nexport default ForgotPassword;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  header: {\n    zIndex: 0.5,\n    position: 'absolute',\n    flexDirection: 'row',\n    top: 45,\n    left: 20,\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    width: '85%',\n    marginLeft: 0\n  },\n  title: {\n    color: \"#fff\",\n    fontSize: 20,\n    left: 10,\n    width: \"80%\"\n  },\n  resetContainer: {\n    top: 200\n  },\n  emailInput: {\n    left: 40,\n    top: 100,\n    borderRadius: 8,\n    width: \"80%\",\n    height: 50,\n    color: \"#cecece\",\n    backgroundColor: \"#fff\",\n    fontSize: 16,\n    paddingLeft: 10\n  },\n  textContainer: {\n    width: \"90%\",\n    left: 25\n  },\n  textTitle: {\n    textAlign: \"justify\",\n    color: \"#fff\",\n    fontSize: 22,\n    fontWeight: 'bold'\n  },\n  textDescription: {\n    textAlign: \"justify\",\n    color: \"#A9A9A9\",\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  sendButton: {\n    borderRadius: 8,\n    width: 190,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    padding: 15,\n    elevation: 2,\n    backgroundColor: \"#fff\",\n    top: 150,\n    height: 30\n  },\n  textStyle: {\n    color: \"#000\",\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useState","Feather","Icon","TextInput","api","useNavigation","Loading","trackPromise","showMessage","ANDROID_CLIENT_ID","IOS_CLIENT_ID","ForgotPassword","emailTerm","setEmailTerm","textVisible","setTextVisible","showLoading","setShowLoading","navigation","sendEmail","post","email","then","response","navigate","option","catch","err","message","data","type","styles","container","header","goBack","title","resetContainer","textContainer","textTitle","textDescription","emailInput","sendButton","textStyle","StyleSheet","create","flex","backgroundColor","zIndex","position","flexDirection","top","left","alignItems","justifyContent","width","marginLeft","color","fontSize","borderRadius","height","paddingLeft","textAlign","fontWeight","marginRight","padding","elevation"],"sources":["C:/Users/Felipe/Documents/CCP/Projects/TracknPlay/mobile/src/pages/ForgotPassword/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, SafeAreaView, ScrollView, StatusBar, Text, View, StyleSheet, Pressable, Alert, Image } from 'react-native';\r\nimport { Feather as Icon } from '@expo/vector-icons';\r\nimport { TextInput } from 'react-native-gesture-handler';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setEmail, signIn, signUp } from '../../actions';\r\nimport User from '../../interfaces/User';\r\nimport api from '../../services/api';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { AxiosError } from 'axios';\r\nimport Loading from '../../components/Loading';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport * as Google from 'expo-google-app-auth';\r\nimport PasswordInputText from 'react-native-hide-show-password-input';\r\n// import PasswordField from 'react-native-password-field';\r\nimport RNPasswordStrengthMeter from 'react-native-password-strength-meter';\r\nimport { BarPasswordStrengthDisplay } from 'react-native-password-strength-meter';\r\nimport config from '../../../config';\r\nimport { showMessage } from 'react-native-flash-message';\r\n\r\nconst ANDROID_CLIENT_ID = \"488976892573-e736r27mphc3raqbj69728m8a0ljkur2.apps.googleusercontent.com\";\r\nconst IOS_CLIENT_ID = \"488976892573-4n00tcooi5hnrt80ike55h2e7sr42d8o.apps.googleusercontent.com\";\r\n\r\ninterface Token {\r\n    auth: boolean;\r\n    access_token: string;\r\n    email: string;\r\n}\r\n\r\nconst ForgotPassword = () => {\r\n    const [emailTerm, setEmailTerm] = useState('');\r\n    const [textVisible, setTextVisible] = useState(true);\r\n    const [showLoading, setShowLoading] = useState(false);\r\n\r\n    const navigation = useNavigation();\r\n\r\n    function sendEmail() {\r\n        setTextVisible(false);\r\n        setShowLoading(true);\r\n        trackPromise(\r\n            api.post(`/forgotPassword`, { email: emailTerm }).then(response => {\r\n                setTextVisible(true);\r\n                setShowLoading(false);\r\n                navigation.navigate('FillCode', { email: emailTerm, option: 'passwordReset' });\r\n            }).catch((err: AxiosError) => {\r\n                showMessage({\r\n                    message: err.response.data.message,\r\n                    type: \"danger\",\r\n                });\r\n                setTextVisible(true);\r\n                setShowLoading(false);\r\n            }));\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <View style={styles.container}>\r\n                <View style={styles.header}>\r\n                    <Icon name=\"arrow-left\" color=\"#FFF\" size={24} onPress={() => navigation.goBack()} />\r\n                    <Text style={styles.title}>Gamebook</Text>\r\n                </View>\r\n\r\n                <View style={styles.resetContainer}>\r\n\r\n                    <View style={styles.textContainer}>\r\n                        <Text style={styles.textTitle}>Recuperar minha senha</Text>\r\n                        <Text style={styles.textDescription}>Esqueceu sua senha? Não se preocupe. Insira seu e-mail que enviaremos um código de acesso para você cadastrar uma nova senha.</Text>\r\n                    </View>\r\n\r\n                    <TextInput\r\n                        style={styles.emailInput}\r\n                        placeholder=\"E-mail\"\r\n                        onChangeText={setEmailTerm}\r\n\r\n                    />\r\n\r\n\r\n                    <Pressable\r\n                        onPress={sendEmail}\r\n                        style={styles.sendButton}\r\n                    >\r\n                        {showLoading && <Loading login={true} />}\r\n                        {textVisible && <Text style={styles.textStyle}>Enviar para e-mail</Text>}\r\n                    </Pressable>\r\n                </View>\r\n            </View>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#000',\r\n    },\r\n\r\n    header: {\r\n        zIndex: 0.5,\r\n        position: 'absolute',\r\n        flexDirection: 'row',\r\n        top: 45,\r\n        left: 20,\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        width: '85%',\r\n        marginLeft: 0\r\n    },\r\n\r\n    title: {\r\n        color: \"#fff\",\r\n        fontSize: 20,\r\n        left: 10,\r\n        width: \"80%\"\r\n    },\r\n\r\n    resetContainer: {\r\n        top: 200\r\n    },\r\n\r\n    emailInput: {\r\n        left: 40,\r\n        top: 100,\r\n        // padding: 20,\r\n        borderRadius: 8,\r\n        width: \"80%\",\r\n        height: 50,\r\n        // textAlign: \"left\",\r\n        color: \"#cecece\",\r\n        backgroundColor: \"#fff\",\r\n        fontSize: 16,\r\n        paddingLeft: 10\r\n    },\r\n\r\n    textContainer: {\r\n        width: \"90%\",\r\n        left: 25\r\n    },\r\n\r\n    textTitle: {\r\n        textAlign: \"justify\",\r\n        color: \"#fff\",\r\n        fontSize: 22,\r\n        fontWeight: 'bold'\r\n    },\r\n\r\n    textDescription: {\r\n        textAlign: \"justify\",\r\n        color: \"#A9A9A9\",\r\n        fontSize: 18,\r\n        fontWeight: 'bold'\r\n    },\r\n\r\n    sendButton: {\r\n        borderRadius: 8,\r\n        width: 190,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        // left: 90,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto',\r\n        padding: 15,\r\n        elevation: 2,\r\n        backgroundColor: \"#fff\",\r\n        top: 150,\r\n        height: 30\r\n    },\r\n\r\n    textStyle: {\r\n        color: \"#000\",\r\n        fontWeight: \"bold\",\r\n        textAlign: \"center\",\r\n        fontSize: 16\r\n    },\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}