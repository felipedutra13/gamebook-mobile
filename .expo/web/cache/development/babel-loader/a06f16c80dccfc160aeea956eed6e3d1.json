{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Felipe\\\\Documents\\\\CCP\\\\Projects\\\\TracknPlay\\\\mobile\\\\src\\\\components\\\\PlatformsList\\\\index.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport api from \"../../services/api\";\nimport { useDispatch } from 'react-redux';\nimport { selectOption, showPlatformSelection } from \"../../actions\";\nimport * as SecureStore from 'expo-secure-store';\nimport { showMessage } from 'react-native-flash-message';\n\nvar PlatformsList = function PlatformsList(props) {\n  var statusMap = {\n    \"4\": \"Completados\",\n    \"2\": \"Backlog\",\n    \"3\": \"Jogando\",\n    \"1\": \"Lista de desejos\"\n  };\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      platforms = _useState2[0],\n      setPlatforms = _useState2[1];\n\n  var game = props.game;\n  var prices = props.prices;\n  var status = props.status;\n  var dispatch = useDispatch();\n  useEffect(function () {\n    var isMounted = true;\n\n    if (props.platforms && props.platforms.length > 0) {\n      var _props$platforms;\n\n      api.get(\"/getPlatforms\", {\n        params: {\n          platformIds: props == null ? void 0 : (_props$platforms = props.platforms) == null ? void 0 : _props$platforms.map(function (p) {\n            return p.id ? p.id : p;\n          })\n        }\n      }).then(function (response) {\n        var tmp = response.data;\n\n        if (prices && prices.length) {\n          prices.forEach(function (price) {\n            var foundPlatform = tmp.find(function (p) {\n              return p.externalId === price.platformId;\n            });\n\n            if (foundPlatform) {\n              foundPlatform.price = price;\n            }\n          });\n        }\n\n        if (isMounted) {\n          setPlatforms(tmp);\n        }\n      });\n    }\n\n    return function () {\n      return isMounted = false;\n    };\n  }, []);\n\n  function handleSelectedPlatform(platform) {\n    var token;\n    return _regeneratorRuntime.async(function handleSelectedPlatform$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(game && status)) {\n              _context.next = 7;\n              break;\n            }\n\n            token = \"\";\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync('token').then(function (res) {\n              token = res;\n            }));\n\n          case 4:\n            api.post(\"/updateGameStatus\", {\n              game_id: game.igdbData.id,\n              status_id: status,\n              platform_id: platform.externalId\n            }, {\n              headers: {\n                'x-access-token': token\n              }\n            }).then(function (response) {\n              showMessage({\n                message: game.igdbData.title + \" adicionado a \" + statusMap[status] + \"!\",\n                type: \"success\"\n              });\n              dispatch(selectOption(status));\n              dispatch(showPlatformSelection(false));\n            });\n            _context.next = 8;\n            break;\n\n          case 7:\n            if (platform.price) {\n              Linking.openURL(platform.price.url);\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function hasDiscount(price) {\n    if (price.discount != \"\" && price.discount != null) {\n      return true;\n    }\n\n    return false;\n  }\n\n  function getDiscountPercentage(price, additionalDiscount) {\n    var discountValue = additionalDiscount ? price.additionalDiscount : price.discount;\n\n    if (discountValue) {\n      var percentage = Number(discountValue.replace(/[^\\d.-]/g, '')) / Number(price.price.replace(/[^\\d.-]/g, '')) * 100;\n      return \"-\" + (100 - percentage).toFixed(0) + \"%\";\n    }\n\n    return \"\";\n  }\n\n  function getAdditionalInfo(price) {\n    if (price.additionalInfo == 'gamePass') {\n      return \"GAME PASS\";\n    } else if (price.additionalInfo == 'plus') {\n      return \"PLUS\";\n    }\n\n    return \"\";\n  }\n\n  var Item = function Item(_ref) {\n    var item = _ref.item;\n    var isPlus = item.price && item.price.additionalInfo && item.price.additionalInfo != \"\" && item.price.additionalInfo == 'plus';\n    return React.createElement(TouchableOpacity, {\n      key: String(item.id),\n      activeOpacity: 0.7,\n      onPress: function onPress() {\n        return handleSelectedPlatform(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: styles.availableContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, React.createElement(Image, {\n      style: styles.platform,\n      source: {\n        uri: item.image_url\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }), item.price && React.createElement(Text, {\n      style: [hasDiscount(item.price) ? styles.priceDiscount : styles.price],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 37\n      }\n    }, item.price.price), item.price && item.price.discount != \"\" && React.createElement(Text, {\n      style: styles.price,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 66\n      }\n    }, item.price.discount), item.price && item.price.discount != \"\" && React.createElement(Text, {\n      style: styles.discountPercentage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 66\n      }\n    }, getDiscountPercentage(item.price, false)), item.price && item.price.additionalDiscount && item.price.additionalDiscount != \"\" ? React.createElement(Text, {\n      style: styles.additionalDiscount,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 108\n      }\n    }, item.price.additionalDiscount) : null, item.price && item.price.additionalDiscount && item.price.additionalDiscount != \"\" ? React.createElement(Text, {\n      style: styles.additionalDiscountPercentage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 108\n      }\n    }, getDiscountPercentage(item.price, true)) : null, item.price && item.price.additionalInfo && item.price.additionalInfo != \"\" ? React.createElement(Text, {\n      style: [isPlus ? styles.additionalInfoPlus : styles.additionalInfo],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 100\n      }\n    }, getAdditionalInfo(item.price)) : null));\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(Item, {\n      item: item,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.platformContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    horizontal: true,\n    showsHorizontalScrollIndicator: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, React.createElement(FlatList, {\n    data: platforms,\n    renderItem: renderItem,\n    keyExtractor: function keyExtractor(item) {\n      return String(item.id);\n    },\n    numColumns: 99,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default PlatformsList;\nvar styles = StyleSheet.create({\n  availableContainer: {\n    alignItems: 'center',\n    paddingRight: 15\n  },\n  platform: {\n    backgroundColor: \"#fff\",\n    borderWidth: 2,\n    borderColor: \"#eee\",\n    height: 40,\n    width: 40,\n    borderRadius: 8,\n    alignItems: \"center\"\n  },\n  platformContainer: {\n    top: 10,\n    borderRadius: 8,\n    borderWidth: 2,\n    paddingLeft: 5,\n    paddingTop: 5,\n    paddingBottom: 5\n  },\n  price: {\n    color: \"#fff\",\n    left: 2,\n    fontSize: 10\n  },\n  priceDiscount: {\n    color: \"#696969\",\n    left: 0,\n    fontSize: 10,\n    textDecorationLine: 'line-through'\n  },\n  discountPercentage: {\n    color: \"#000000\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    fontSize: 10,\n    padding: 2\n  },\n  additionalDiscount: {\n    color: \"#FFFF33\",\n    left: 0,\n    fontSize: 10\n  },\n  additionalDiscountPercentage: {\n    color: \"#000000\",\n    backgroundColor: \"#FFFF33\",\n    borderRadius: 5,\n    fontSize: 10,\n    padding: 2\n  },\n  additionalInfo: {\n    backgroundColor: \"#00CC00\",\n    color: \"#FFFFFF\",\n    left: 0,\n    fontSize: 7,\n    borderRadius: 5,\n    padding: 2,\n    marginTop: 2\n  },\n  additionalInfoPlus: {\n    backgroundColor: \"#FFFF33\",\n    color: \"#000000\",\n    left: 0,\n    fontSize: 7,\n    borderRadius: 5,\n    padding: 2,\n    marginTop: 2\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","api","useDispatch","selectOption","showPlatformSelection","SecureStore","showMessage","PlatformsList","props","statusMap","platforms","setPlatforms","game","prices","status","dispatch","isMounted","length","get","params","platformIds","map","p","id","then","response","tmp","data","forEach","price","foundPlatform","find","externalId","platformId","handleSelectedPlatform","platform","token","getItemAsync","res","post","game_id","igdbData","status_id","platform_id","headers","message","title","type","Linking","openURL","url","hasDiscount","discount","getDiscountPercentage","additionalDiscount","discountValue","percentage","Number","replace","toFixed","getAdditionalInfo","additionalInfo","Item","item","isPlus","String","styles","availableContainer","uri","image_url","priceDiscount","discountPercentage","additionalDiscountPercentage","additionalInfoPlus","renderItem","platformContainer","StyleSheet","create","alignItems","paddingRight","backgroundColor","borderWidth","borderColor","height","width","borderRadius","top","paddingLeft","paddingTop","paddingBottom","color","left","fontSize","textDecorationLine","padding","marginTop"],"sources":["C:/Users/Felipe/Documents/CCP/Projects/TracknPlay/mobile/src/components/PlatformsList/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { View, ScrollView, SafeAreaView, StyleSheet, FlatList, Image, TouchableOpacity, Text, Linking } from 'react-native';\r\nimport api from '../../services/api';\r\nimport { Platform } from '../../interfaces/Platform';\r\nimport { GameDetail } from '../../interfaces/GameDetail';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectOption, showPlatformSelection } from '../../actions';\r\nimport { RootState } from '../../reducers';\r\nimport ExternalGame from '../../interfaces/ExternalGame';\r\nimport Price from '../../interfaces/Price';\r\nimport * as SecureStore from 'expo-secure-store';\r\nimport { showMessage } from 'react-native-flash-message';\r\n\r\nconst PlatformsList = (props) => {\r\n    const statusMap = {\r\n        \"4\": \"Completados\",\r\n        \"2\": \"Backlog\",\r\n        \"3\": \"Jogando\",\r\n        \"1\": \"Lista de desejos\"\r\n    };\r\n\r\n    const [platforms, setPlatforms] = useState<Platform[]>([]);\r\n    // const modalVisible = useSelector((state: RootState) => state.PlatformSelectionState);\r\n    const game: GameDetail = props.game;\r\n    const prices: Price[] = props.prices;\r\n\r\n    const status = props.status;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        if (props.platforms && props.platforms.length > 0) {\r\n            api.get<Platform[]>(`/getPlatforms`, {\r\n                params: {\r\n                    platformIds: props?.platforms?.map(p => p.id ? p.id : p)\r\n                }\r\n            }).then(response => {\r\n                let tmp = response.data;\r\n                if (prices && prices.length) {\r\n                    prices.forEach(price => {\r\n                        let foundPlatform = tmp.find(p => p.externalId === price.platformId);\r\n                        if (foundPlatform) {\r\n                            foundPlatform.price = price;\r\n                        }\r\n                    });\r\n                }\r\n                if (isMounted) {\r\n                    setPlatforms(tmp);\r\n                }\r\n\r\n            });\r\n        }\r\n        return () => isMounted = false;\r\n    }, []);\r\n\r\n    async function handleSelectedPlatform(platform: Platform) {\r\n        if (game && status) {\r\n            let token = \"\";\r\n            await SecureStore.getItemAsync('token').then(res => {\r\n                token = res;\r\n            });\r\n            api.post(`/updateGameStatus`,\r\n                {\r\n                    game_id: game.igdbData.id,\r\n                    status_id: status,\r\n                    platform_id: platform.externalId\r\n                },\r\n                {\r\n                    headers: {\r\n                        'x-access-token': token\r\n                    }\r\n                }).then(response => {\r\n                    showMessage({\r\n                        message: `${game.igdbData.title} adicionado a ${statusMap[status]}!`,\r\n                        type: \"success\",\r\n                    });\r\n                    dispatch(selectOption(status));\r\n                    dispatch(showPlatformSelection(false));\r\n                });\r\n        } else {\r\n            if (platform.price) {\r\n                Linking.openURL(platform.price.url);\r\n            }\r\n        }\r\n    }\r\n\r\n    function hasDiscount(price: Price) {\r\n        if (price.discount != \"\" && price.discount != null) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    function getDiscountPercentage(price: Price, additionalDiscount: boolean) {\r\n        let discountValue = additionalDiscount ? price.additionalDiscount : price.discount;\r\n        if (discountValue) {\r\n            let percentage = (Number(discountValue.replace(/[^\\d.-]/g, '')) / Number(price.price.replace(/[^\\d.-]/g, ''))) * 100;\r\n            return \"-\" + (100 - percentage).toFixed(0) + \"%\";\r\n        }\r\n\r\n        return \"\";\r\n    }\r\n\r\n    function getAdditionalInfo(price: Price) {\r\n        if (price.additionalInfo == 'gamePass') {\r\n            return \"GAME PASS\";\r\n        } else if (price.additionalInfo == 'plus') {\r\n            return \"PLUS\"\r\n        }\r\n\r\n        return \"\";\r\n    }\r\n\r\n    const Item = ({ item }) => {\r\n        const isPlus = item.price && item.price.additionalInfo && item.price.additionalInfo != \"\" && item.price.additionalInfo == 'plus';\r\n\r\n        return (\r\n            <TouchableOpacity\r\n                key={String(item.id)}\r\n                activeOpacity={0.7}\r\n                onPress={() => handleSelectedPlatform(item)}\r\n            >\r\n                <View style={styles.availableContainer}>\r\n                    <Image style={styles.platform} source={{ uri: item.image_url }} />\r\n                    {item.price && (<Text style={[hasDiscount(item.price) ? styles.priceDiscount : styles.price]}>{item.price.price}</Text>)}\r\n                    {item.price && item.price.discount != \"\" && (<Text style={styles.price}>{item.price.discount}</Text>)}\r\n                    {item.price && item.price.discount != \"\" && (<Text style={styles.discountPercentage}>{getDiscountPercentage(item.price, false)}</Text>)}\r\n                    {item.price && item.price.additionalDiscount && item.price.additionalDiscount != \"\" ? (<Text style={styles.additionalDiscount}>{item.price.additionalDiscount}</Text>) : null}\r\n                    {item.price && item.price.additionalDiscount && item.price.additionalDiscount != \"\" ? (<Text style={styles.additionalDiscountPercentage}>{getDiscountPercentage(item.price, true)}</Text>) : null}\r\n                    {item.price && item.price.additionalInfo && item.price.additionalInfo != \"\" ? (<Text style={[isPlus ? styles.additionalInfoPlus : styles.additionalInfo]}>{getAdditionalInfo(item.price)}</Text>) : null}\r\n                </View>\r\n            </TouchableOpacity>\r\n        );\r\n    }\r\n\r\n\r\n    const renderItem = ({ item }) => {\r\n        return (\r\n            <Item\r\n                item={item}\r\n            />\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={styles.platformContainer}>\r\n                <ScrollView\r\n                    horizontal\r\n                    showsHorizontalScrollIndicator={false}\r\n                >\r\n                    <FlatList\r\n                        data={platforms}\r\n                        renderItem={renderItem}\r\n                        keyExtractor={(item) => String(item.id)}\r\n                        numColumns={99}\r\n                    />\r\n                </ScrollView>\r\n            </View>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default PlatformsList;\r\n\r\nconst styles = StyleSheet.create({\r\n    availableContainer: {\r\n        alignItems: 'center',\r\n        paddingRight: 15\r\n    },\r\n\r\n    platform: {\r\n        backgroundColor: \"#fff\",\r\n        // backgroundColor: \"red\",\r\n        borderWidth: 2,\r\n        borderColor: \"#eee\",\r\n        height: 40,\r\n        width: 40,\r\n        borderRadius: 8,\r\n        // paddingHorizontal: 16,\r\n        // paddingTop: 20,\r\n        // paddingBottom: 16,\r\n        // marginRight: 20,\r\n        alignItems: \"center\"\r\n        // top: 120\r\n    },\r\n\r\n    platformContainer: {\r\n        top: 10,\r\n        borderRadius: 8,\r\n        borderWidth: 2,\r\n        // borderColor: \"red\",\r\n        paddingLeft: 5,\r\n        paddingTop: 5,\r\n        paddingBottom: 5,\r\n    },\r\n\r\n    price: {\r\n        color: \"#fff\",\r\n        left: 2,\r\n        fontSize: 10,\r\n    },\r\n\r\n    priceDiscount: {\r\n        color: \"#696969\",\r\n        left: 0,\r\n        fontSize: 10,\r\n        textDecorationLine: 'line-through'\r\n    },\r\n\r\n    discountPercentage: {\r\n        color: \"#000000\",\r\n        backgroundColor: \"#ffffff\",\r\n        borderRadius: 5,\r\n        fontSize: 10,\r\n        padding: 2\r\n    },\r\n\r\n    additionalDiscount: {\r\n        color: \"#FFFF33\",\r\n        left: 0,\r\n        fontSize: 10,\r\n    },\r\n\r\n    additionalDiscountPercentage: {\r\n        color: \"#000000\",\r\n        backgroundColor: \"#FFFF33\",\r\n        borderRadius: 5,\r\n        fontSize: 10,\r\n        padding: 2\r\n    },\r\n\r\n    additionalInfo: {\r\n        backgroundColor: \"#00CC00\",\r\n        color: \"#FFFFFF\",\r\n        left: 0,\r\n        fontSize: 7,\r\n        borderRadius: 5,\r\n        padding: 2,\r\n        marginTop: 2\r\n    },\r\n\r\n    additionalInfoPlus: {\r\n        backgroundColor: \"#FFFF33\",\r\n        color: \"#000000\",\r\n        left: 0,\r\n        fontSize: 7,\r\n        borderRadius: 5,\r\n        padding: 2,\r\n        marginTop: 2\r\n    }\r\n\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}